---
title: "[js] ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸, ìŠ¤ì½”í”„ ì²´ì¸, í´ë¡œì €"
seoTitle: "JavaScript: Context, Scope, Closure"
seoDescription: "JavaScript ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸, ìŠ¤ì½”í”„ ì²´ì¸, í´ë¡œì €ì˜ ê°œë…"
datePublished: Wed Feb 12 2025 10:11:00 GMT+0000 (Coordinated Universal Time)
cuid: cm71r3eaa000m09kyhfl2gem8
slug: js-1
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1739336850570/2c334cda-42a2-4329-a969-b1dc0524875a.png
tags: 7yg066gc7kca, 7iuk7zaj7luo7ywn7iqk7yq4, 7iqk7l2u7zse7lk07j24

---

## ğŸ“Œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” **ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.** ì£¼ë¡œ **í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ ìƒì„±ë˜ë©°, ì‹¤í–‰ì´ ëë‚˜ë©´ ì‚¬ë¼ì§€ëŠ”** ìŠ¤íƒ ê¸°ë°˜ êµ¬ì¡°ë¥¼ ë”°ë¥¸ë‹¤.  
ì´ëŸ¬í•œ ì›ë¦¬ì— ë”°ë¼ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” **ì½œ ìŠ¤íƒ(Call Stack)** ì— ìŒ“ì´ë©°, **ê°€ì¥ ë§ˆì§€ë§‰ì— ì¶”ê°€ëœ ì»¨í…ìŠ¤íŠ¸ë¶€í„° ì‹¤í–‰ë¨ìœ¼ë¡œì¨** í•¨ìˆ˜ ì‹¤í–‰ ìˆœì„œë¥¼ ê´€ë¦¬í•œë‹¤.  
ì´ ë°©ì‹ ë•ë¶„ì— **ì½”ë“œ ì‹¤í–‰ ìˆœì„œì™€ ì‹¤í–‰ í™˜ê²½ì´ ì¼ê´€ë˜ê²Œ ìœ ì§€ëœë‹¤**.

```jsx
var a = 1
function outer() {
  // --------------------------- [2]
  function inner() {
    // ------------------------- [4]
    console.log(a) // ---------- [5]
    var a = 3 // --------------- [6]
  }
  inner() // ------------------- [3]
  console.log(a) // ------------ [7]
}
outer() // -------------------- [1]
console.log(a) // --------------[8]
```

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1739332739830/4af405b0-b5ee-48f1-8dc0-0a40bd62abf7.png align="center")

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ì£¼ìš” ì •ë³´

* **VariableEnvironment** (ë³€ìˆ˜ í™˜ê²½)
    
* **LexicalEnvironment** (ë ‰ì‹œì»¬ í™˜ê²½)
    
* **ThisBinding** (`this` ë°”ì¸ë”©)
    

**VariableEnvironment** ì™€ **LexicalEnvironment** ëŠ” ì•„ë˜ ë‘ ê°€ì§€ ìš”ì†Œë¥¼ í¬í•¨í•œë‹¤

* **EnvironmentRecord (í™˜ê²½ ê¸°ë¡)**
    
    * ë³€ìˆ˜, í•¨ìˆ˜ ì„ ì–¸ì„ ì €ì¥í•˜ëŠ” ê°ì²´ â†’ **í˜¸ì´ìŠ¤íŒ…ê³¼ ê´€ë ¨**
        
* **OuterEnvironmentReference (ì™¸ë¶€ í™˜ê²½ ì°¸ì¡°)**
    
    * **ìŠ¤ì½”í”„ ì²´ì¸**ì„ ë”°ë¼ ì™¸ë¶€ í™˜ê²½ì„ ì°¸ì¡° â†’ **í´ë¡œì €ì™€ ê´€ë ¨**
        

**VariableEnvironment** ì™€ **LexicalEnvironmentì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ì´ì „ í¬ìŠ¤íŒ…ì°¸ê³ **ğŸ‘‡[https://ddoit.hashnode.dev/variableenvironment-lexicalenvironment](https://ddoit.hashnode.dev/variableenvironment-lexicalenvironment)

---

### ğŸ” **OuterEnvironmentReference** ë€?

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë  ë•Œ, í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ìœ„ì¹˜(ë ‰ì‹œì»¬ ìŠ¤ì½”í”„)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `OuterEnvironmentReference`ê°€ ì„¤ì •ëœë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¾ì„ ë•ŒëŠ” **ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)** ì„ ë”°ë¼ê°„ë‹¤.

1. **í˜„ì¬ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ EnvironmentRecord**ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¾ìŒ.
    
2. ì—†ìœ¼ë©´ **OuterEnvironmentReference(ì™¸ë¶€ í™˜ê²½ ì°¸ì¡°)** ë¥¼ ë”°ë¼ **ìƒìœ„ ì»¨í…ìŠ¤íŠ¸**ë¡œ ì´ë™.
    
3. ê³„ì† ì˜¬ë¼ê°€ë‹¤ê°€ **ì „ì—­ ì»¨í…ìŠ¤íŠ¸ê¹Œì§€ ê°€ë„ ì—†ìœ¼ë©´ ReferenceError ë°œìƒ**.
    

```jsx
function outer() {
  let x = 10;
  
  function inner() {
    console.log(x); // outer()ì˜ xë¥¼ ì°¾ì„ ìˆ˜ ìˆìŒ!
  }
  
  inner();
}

outer(); // 10
```

1. `inner()` ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë¨
    
2. `inner()` ì•ˆì—ëŠ” `x`ê°€ ì—†ìœ¼ë¯€ë¡œ **OuterEnvironmentReferenceë¥¼ í†µí•´** `outer()`ì˜ xë¥¼ ì°¾ìŒ
    
3. `console.log(x);` ì‹¤í–‰ â†’ `10` ì¶œë ¥
    

â¡ï¸ **ì´ ê³¼ì •ì´ ìŠ¤ì½”í”„ ì²´ì¸(Scope Chain)!**

â¡ï¸ **í´ë¡œì €(Closure)ë„ ì´ ì›ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•¨!**

---

## ğŸ“Œí´ë¡œì €ë€?

**í´ë¡œì €(Closure)** ëŠ” **"ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜(ìŠ¤ì½”í”„)ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€ í•¨ìˆ˜"**  
â¡ï¸ **ì™¸ë¶€ í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ì—ë„, ë‚´ë¶€ í•¨ìˆ˜ê°€ ê·¸ ë³€ìˆ˜ë¥¼ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ**

1ï¸âƒ£ `foo()` ì‹¤í–‰ â†’ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„±  
2ï¸âƒ£ `x = 10` ë©”ëª¨ë¦¬ì— ì €ì¥  
3ï¸âƒ£ `console.log(x)` ì‹¤í–‰ (ì¶œë ¥: `10`)  
4ï¸âƒ£ `foo()` ì‹¤í–‰ ì¢…ë£Œ â†’ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œ ìŠ¤íƒì—ì„œ ì œê±°ë¨!**  
5ï¸âƒ£ `x = 10`ë„ ë” ì´ìƒ ì°¸ì¡°ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(GC)ì´ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œí•¨!

âœ” **ì¦‰, ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ë©´, ì¼ë°˜ì ìœ¼ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì˜ ë³€ìˆ˜ë“¤ë„ ì‚­ì œë¨.**  
âœ” **í•˜ì§€ë§Œ! í´ë¡œì €ê°€ ìˆìœ¼ë©´, ë³€ìˆ˜ê°€ ì‚­ì œë˜ì§€ ì•Šê³  ìœ ì§€ëœë‹¤!**

âœ… **ì˜ˆì œ 1: í´ë¡œì €ê°€ ì—†ëŠ” ê²½ìš°**

```jsx
function outer() {
  let count = 0;
}

outer();
console.log(count); // âŒ ReferenceError
```

1. `outer()` ì‹¤í–‰ â†’ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
    
2. `count = 0` ë©”ëª¨ë¦¬ì— ì €ì¥
    
3. `outer()` ì‹¤í–‰ ì¢…ë£Œ â†’ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œ ìŠ¤íƒì—ì„œ ì œê±°ë¨!**
    
4. `count = 0`ë„ ë” ì´ìƒ ì°¸ì¡°ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(GC)ì´ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œí•¨!
    
5. `console.log(count);` ì‹¤í–‰ ì‹œ ë³€ìˆ˜ `count`ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ â†’ `ReferenceError` ë°œìƒ.
    

â¡ï¸ **ì¦‰, í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ë©´** í•¨ìˆ˜ ë‚´ë¶€ì˜ ë³€ìˆ˜ë“¤ë„ ì‚­ì œëœë‹¤.

---

âœ… **ì˜ˆì œ 2: í´ë¡œì €ë¥¼ ì‚¬ìš©í•œ ê²½ìš°**

```jsx
function outer() {
  let count = 0;

  return function inner() {
    count++; // ì™¸ë¶€ ë³€ìˆ˜ countë¥¼ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    console.log(count);
  };
}

const counter = outer(); // outer() ì‹¤í–‰ í›„ inner() ë°˜í™˜
counter(); // 1
counter(); // 2
counter(); // 3
```

1. `outer()` ì‹¤í–‰ â†’ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
    
    * `count = 0` ë©”ëª¨ë¦¬ì— ì €ì¥
        
    * inner() í•¨ìˆ˜ê°€ ì„ ì–¸í›„ ë°˜í™˜ë¨.
        
2. outer() ì‹¤í–‰ ì¢…ë£Œ â†’ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ì œê±°
    
    * ì¼ë°˜ì ìœ¼ë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì œê±°ë˜ë©´ `count = 0`ë„ ì‚­ì œë˜ì–´ì•¼ í•˜ì§€ë§Œ inner() í•¨ìˆ˜ê°€ ìŠ¤ì½”í”„ì²´ì¸ì„ ë”°ë¼ `count`ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, **GC(Garbage Collection)ê°€** xë¥¼ ë©”ëª¨ë¦¬ì—ì„œ **ì œê±°í•˜ì§€ ì•ŠìŒ!**
        
3. `counter();` ì‹¤í–‰ â†’ `count`ê°€ ì—¬ì „íˆ ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆì–´ì„œ, `count++`ê°€ ì‹¤í–‰ë˜ë©´ì„œ ê°’ì„ ìœ ì§€í•¨.
    

â¡ï¸ ì¦‰, ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì‚¬ë¼ì¡Œì§€ë§Œ, í´ë¡œì €ê°€ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸° ë•Œë¬¸ì—`count`ëŠ” ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆìŒ!  
â¡ï¸ **í´ë¡œì €ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œìŠ¤íƒì—ì„œ ì‚¬ë¼ì§„ í›„ì—ë„ íŠ¹ì • ë³€ìˆ˜ë¥¼ "í™ ë©”ëª¨ë¦¬"ì— ìœ ì§€í•˜ëŠ” ê°œë…ì´ë‹¤!**  
â¡ï¸**ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìì²´ëŠ” ì‚¬ë¼ì§€ì§€ë§Œ, í´ë¡œì €ê°€ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜ëŠ” ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆë‹¤.**

âœ… **ì˜ˆì œ 2: í´ë¡œì €ê°€ ì•ˆ ë˜ëŠ” ê²½ìš° (ê°’ì´ ë³µì‚¬ë¨)**

```jsx
function outer() {
    let count = 0;

    return count; // âŒ ê¸°ë³¸í˜•(ìˆ«ì)ì„ ë°˜í™˜ (í´ë¡œì € X)
}

const counter = outer();
const counter_ = outer();
console.log(counter); // 0 âœ…
console.log(counter_); // 0 âœ…
counter++;
console.log(counter); // 1 
console.log(counter_); // 0
```

* `outer()` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´, `count = 0`ì´ ìƒì„±ë¨
    
* `return count;`ëŠ” `count`ë¼ëŠ” **ë³€ìˆ˜ ìì²´ê°€ ì•„ë‹ˆë¼**, ê·¸ **ê°’(0)**ì„ ë°˜í™˜í•¨
    
* `counter = 0;`ì´ ë˜ë©° **ì›ë˜ì˜** `count`ì™€ëŠ” ì—°ê²°ì´ ëŠê¹€
    
* ì¦‰ `counter`ëŠ” ë” ì´ìƒ `count`ì™€ ê´€ê³„ê°€ ì—†ìŒ. ê·¸ëƒ¥ ìˆ«ì ë³€ìˆ˜ì— ë¶ˆê³¼í•¨
    
* ì´ê±´ í´ë¡œì €ê°€ ì•„ë‹˜
    

â¡ï¸ **ê¸°ë³¸í˜• ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë©´, ê°’ì´ ë³µì‚¬ë  ë¿ í´ë¡œì €ê°€ ë˜ì§€ ì•ŠìŒ!**  
â¡ï¸ í´ë¡œì €ë¥¼ ë§Œë“¤ë ¤ë©´ í•¨ìˆ˜(ì°¸ì¡°í˜• ë°ì´í„°)ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤!

---

### ğŸ” **í´ë¡œì €ê°€ ì™œ í•„ìš”í•´?**

**í´ë¡œì €ë¥¼ í™œìš©í•˜ë©´ ë³€ìˆ˜ë¥¼ ìˆ¨ê¸°ê³  íŠ¹ì • í•¨ìˆ˜ì—ë§Œ ì ‘ê·¼ ê¶Œí•œì„ ì£¼ì–´ ìº¡ìŠí™”ë¥¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.**  
ë”°ë¼ì„œ **í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ëŠ” ë°˜í™˜ëœ í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë©°, ì™¸ë¶€ì—ì„œëŠ” ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤**

```jsx
// ì‚¬ìš©ìì˜ ì¥ë°”êµ¬ë‹ˆë¥¼ ê´€ë¦¬í•˜ëŠ” í•¨ìˆ˜
function createShoppingCart() {
    // private ë³€ìˆ˜ë“¤
    let items = [];
    let totalPrice = 0;

    return {
        // ìƒí’ˆ ì¶”ê°€ í•¨ìˆ˜
        addItem: function(item) {
            items.push(item);
            totalPrice += item.price;
            return `${item.name}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`;
        },

        // ìƒí’ˆ ì œê±° í•¨ìˆ˜
        removeItem: function(itemName) {
            const index = items.findIndex(item => item.name === itemName);
            if (index > -1) {
                totalPrice -= items[index].price;
                items.splice(index, 1);
                return `${itemName}ì´(ê°€) ì¥ë°”êµ¬ë‹ˆì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.`;
            }
            return "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
        },

        // ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ì¡°íšŒ í•¨ìˆ˜
        getCartInfo: function() {
            return {
                itemCount: items.length,
                total: totalPrice,
                items: [...items] // ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ë°˜í™˜
            };
        }
    };
}

// ì¥ë°”êµ¬ë‹ˆ ì‚¬ìš© ì˜ˆì‹œ
const cart = createShoppingCart();

// ìƒí’ˆ ì¶”ê°€
console.log(cart.addItem({ name: "ë…¸íŠ¸ë¶", price: 1000000 }));
console.log(cart.addItem({ name: "ë§ˆìš°ìŠ¤", price: 50000 }));

// ì¥ë°”êµ¬ë‹ˆ ì •ë³´ í™•ì¸
console.log(cart.getCartInfo());
// ì¶œë ¥: { itemCount: 2, total: 1050000, items: [...] }

// ìƒí’ˆ ì œê±°
console.log(cart.removeItem("ë§ˆìš°ìŠ¤"));

// ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€ëŠ¥
console.log(cart.items);        // undefined
console.log(cart.totalPrice);   // undefined
```

âœ” **ë°ì´í„° ì€ë‹‰ (ì •ë³´ ë³´í˜¸)**  
âœ” **ìƒíƒœ ìœ ì§€ (ex: ì¹´ìš´í„°, ì„¤ì • ê°’)**  
âœ” **ë¹„ë™ê¸° ì²˜ë¦¬ (setTimeout, eventListener)**

### ğŸ“ **í´ë¡œì € ì •ë¦¬**

âœ” **í´ë¡œì €ëŠ” ë‚´ë¶€ í•¨ìˆ˜(inner function)ë‹¤.**  
âœ” **í´ë¡œì €ëŠ” ì™¸ë¶€ í•¨ìˆ˜(outer function)ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•œë‹¤.**  
âœ” **ì™¸ë¶€ í•¨ìˆ˜ ì‹¤í–‰ì´ ëë‚˜ë„, ë‚´ë¶€ í•¨ìˆ˜ê°€ ë³€ìˆ˜ë¥¼ ìœ ì§€í•œë‹¤.**

**í•œ ë§ˆë””ë¡œ: "í•¨ìˆ˜ê°€ ëë‚œ í›„ì—ë„ ë³€ìˆ˜ë¥¼ ìœ ì§€í•˜ë©´, ê·¸ê²Œ í´ë¡œì €ë‹¤!"** ğŸš€